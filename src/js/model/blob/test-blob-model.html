<html>
	<head>
		<meta charset="utf-8">
		<script src="../../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
		<script src="../../../../bower_components/web-component-tester/browser.js"></script>

		<script src="../sdnv/sdnv.js"></script>
		<script src="../byte/byte.js"></script>
		<script src="blob.js"></script>
	</head>
	<body>
		<script>
		
suite("Blob model constructor", function()
{
	var returnedObj;

	suiteSetup(function()
	{
		returnedObj = AMPParse.buildBlob("088899AABBCCDDEEFFABCDEF");
	});

	test("returns the correct array of values", function()
	{
		expect(returnedObj.returnValue.value).to.be.an("array");
		var expectedResults = [ 0x88, 0x99, 0xaa, 0xbb, 0xcc, 0xdd, 0xee, 0xff ];

		expectedResults.forEach(function (currentValue, currentIndex)
		{
			expect(returnedObj.returnValue.value[currentIndex].returnValue.value).to.equal(currentValue);
		});
	});

	test("returns the correct trailing hex", function()
	{
		expect(returnedObj.trailingHex).to.equal("ABCDEF");
	});

	test("fails when the length SDNV lies", function()
	{
		expect(function() { AMPParse.buildBlob("08AA"); }).to.throw(RangeError);
	});

	test("fails on bad input", function()
	{
		expect(function() { AMPParse.buildBlob(""); }).to.throw(RangeError);
		expect(function() { AMPParse.buildBlob(25); }).to.throw(ReferenceError);
		expect(function() { AMPParse.buildBlob("08A"); }).to.throw(RangeError);
	});
});
		</script>
	</body>
</html>
